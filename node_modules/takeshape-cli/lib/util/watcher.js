"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createWatcher = createWatcher;

var _chokidar = _interopRequireDefault(require("chokidar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function createWatcher(description, handler, path) {
  const watcher = _chokidar.default.watch(path);

  let ready = false;
  watcher.on('all', (event, path) => {
    if (ready) {
      handler(event, path);
    }
  });
  watcher.on('error', error => {
    console.error(`Error Watching ${description}:`, error);
  });
  watcher.once('ready', () => {
    console.log('Watching ' + description);
    ready = true;
  });
}