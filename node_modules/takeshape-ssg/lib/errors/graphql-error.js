"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _es6Error = _interopRequireDefault(require("es6-error"));

var _formatting = require("./formatting");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ensureArray(obj) {
  return Array.isArray(obj) ? obj : [obj];
}

function formatError(error) {
  const locations = error.locations ? error.locations.map(_formatting.formatLocation).join(' ') : '';
  return `${locations} ${error.message}`;
}

function addErrorDetail(message, errors) {
  const detail = errors ? ensureArray(errors).map(formatError).join('\n') : '';
  return `${message}:\n${detail}`;
}

class GraphQLError extends _es6Error.default {
  constructor(message, errors) {
    super(addErrorDetail(message, errors));
    this.errors = errors;
    this.originalMessage = message;
  }

}

exports.default = GraphQLError;