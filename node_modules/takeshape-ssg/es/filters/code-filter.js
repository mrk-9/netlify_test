import Prism from 'prismjs';
import Nunjucks from 'vm-nunjucks';
import 'prismjs/components/prism-bash';
import 'prismjs/components/prism-django';
import 'prismjs/components/prism-twig';
import 'prismjs/components/prism-yaml';
import 'prismjs/components/prism-graphql';
import 'prismjs/components/prism-sass';
import 'prismjs/components/prism-scss';
import 'prismjs/components/prism-markdown';
import 'prismjs/components/prism-json';
export default function codeFilter(value, languageString) {
  const language = Prism.languages[languageString];

  if (language) {
    const cssClass = '"language-' + languageString + '"';
    const openingTags = '<pre class=' + cssClass + '><code class=' + cssClass + '>';
    const closingTags = '</code></pre>';
    const highlightedCode = Prism.highlight(value, language);
    return Nunjucks.runtime.markSafe(openingTags + highlightedCode + closingTags);
  }

  return value;
}